<app-loading></app-loading>

<body class="max-h-screen max-w-screen">
  <section class="grid m-0 overflow-hidden">
    <!-- Area Left -->
    <div class="col-12 md:col-4 lg:col-4 area-left relative h-screen">
      <section class="wrap-container absolute">
        <div class="flex flex-column align-items-center justify-content-center">
          <img class="border-round" src="../../../assets/images/auth_logo_desktop.png" alt="auth_logo_desktop"
            (click)="onNextPage(SYSTEM_PAGE.HEADER_HOME)" height="150px" width="150px" />
          <h1 class="mt-5 w-20rem font-semibold text-xl text-center text-white">
            Tiếp lợi thế - Nối thành công
          </h1>
          <p class="mt-3 text-center text-white">
            Hệ sinh thái nhân sự tiên phong ứng dụng công nghệ tại Việt Nam
          </p>
          <div class="p-field mt-5">
            <button pButton type="button" label="Đăng nhập" routerLink="/auth/login"></button>
          </div>
        </div>
      </section>
    </div>

    <!-- Area Right -->
    <div class="col-12 md:col-8 lg:col-8 area-right relative h-screen flex align-items-center justify-content-center">
      <section class="w-30rem">
        <h2 class="txt-title font-medium text-2xl">
          Chào mừng bạn đã quay trở lại với việc làm 24h
        </h2>
        <p class="text-gray-600">Đổi mật khẩu</p>

        <div class="p-fluid" *ngIf="!authForgotPassword.isStep">
          <div class="p-field">
            <label class="font-normal text-lg" for="email">Email</label>
            <span class="pl-2 text-red-600">*</span>
            <input class="mt-2" id="email" type="email" placeholder="Nhập email" pInputText
              [(ngModel)]="authForgotPassword.email" />
          </div>

          <div class="p-field mt-4">
            <label class="font-normal text-lg" for="password">Mật khẩu mới</label>
            <span class="pl-2 text-red-600">*</span>
            <input class="mt-2" id="password" type="password" placeholder="Nhập mật khẩu mới" pInputText
              [(ngModel)]="authForgotPassword.password" />
          </div>

          <div class="flex flex-row gap-2 align-items-center mt-2">
            <p-triStateCheckbox [(ngModel)]="authForgotPassword.isPolicy" inputId="rule"
              (change)="authForgotPassword.isPolicy = !authForgotPassword.isPolicy"></p-triStateCheckbox>
            <p>Tôi đã đọc và đồng ý với Điều khoản dịch vụ và Chính sách bảo mật của chúng tôi</p>
          </div>

          <div class="p-field mt-2">
            <button pButton type="button" label="Gửi mã xác thực" (click)="apiVerifyCode()"></button>
          </div>
        </div>

        <div class="p-fluid" *ngIf="authForgotPassword.isStep">
          <p>Nhập mã xác thực</p>

          <div class="p-field mt-4">
            <p-inputOtp [(ngModel)]="authForgotPassword.verifyCode" [length]="6">
              <ng-template pTemplate="input" let-token let-events="events">
                <input pInputText class="custom-otp-input" (input)="events.input($event)"
                  (keydown)="events.keydown($event)" type="text" [attr.value]="token" [maxLength]="6" />
              </ng-template>
            </p-inputOtp>

            <div class="txt-forgot-password mt-3 font-italic text-right cursor-pointer" (click)="apiVerifyCode()">
              <i class="pi pi-refresh"></i>
              Gửi lại
            </div>

            <div class="p-field mt-3 flex justify-content-end gap-2">
              <p-button label="Quay lại" [text]="true" severity="secondary"
                (click)="authForgotPassword.isStep = !authForgotPassword.isStep"></p-button>
              <p-button label="Xác nhận" (click)="apiForgotPassword()"></p-button>
            </div>
          </div>
        </div>

        <p-toast></p-toast>
      </section>
    </div>
  </section>
</body>